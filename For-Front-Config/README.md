# For Front Config *`v2.1.0`*

**For Front Config** позволяет легко и быстро начать работу над новым проектом. 
Однако никто не отменяет необходимости **настроек или удаления лишнего**, в зависимости от требований.
 
## Как работает сборка
 + [Webpack](#webpack) компилирует файлы: **Twig, SCSS, JavaScript**.
 + [Gulp](#gulp) оптимизирует изображения, SVG sprite.
 
  
 ## Как развернуть среду для проекта
 1. Скачать содержимое репозитория в папку проекта
 1. Установить: **Node.js**, **Gulp**, **Webpack**
 1. В папке проекта выполнить команду **`> npm i`**

## <a name="webpack">Webpack</a>
 2. **`> npm run webpack`** - сборка **Twig/JavaScript/SCSS/SVG sprite** файлов
 2. **`> npm run webpack:w`** - сборка файлов и отслеживания их изменений
 2. **`> npm run webpack:b`** - очистка папки build, сборка минифицированных **JavaScript/SCSS** файлов
 2. **`> npm run start`** - запуск локального сервера
 
## <a name="gulp">Gulp</a>
 3. **`> gulp img`** - [оптимизация изображений](#img_work)
 3. **`> gulp sprite`** - [создание SVG-sprite](#svg_work) из файлов в *`private/_heplers/sprite/svg`* в файл *`public/build/img/symbol_sprite.svg`*
 3. **`> gulp favicon`** - копирование фавиконок из *`private/_helpers/favicon`* в *`public/`*
 3. **`> gulp copy`** - копирование любых файлов (например MP4, MP3, PDF, PSD, AI) из *`private/**/copy/**/*.*`* в *`public/build/copy`*
 3. **`> gulp`** - выполнение всех gulp команд, описанных выше

## Структура
 - **webpack.common.js** — общие настройки Webpack'а;
 - **webpack.config.dev.js** — настройки Webpack'а при работе в dev режиме;
 - **webpack.config.prod.js** — настройки Webpack'а при работе в production режиме;
 - **gulpfile.babel.js** — настройки Gulp'а;
 - **gulp-tasks** — папка c задачами для Gulp'а;
 
 + **public** — папка готового проекта. Содержит минифицированные версии файлов и т.д.
 + **private** — папка с исходниками проекта;
 + **private/_helpers** — папка с шрифтами, SCSS переменными, SVG иконками и прочими файлами/библиотеками которые не получилось подключить через [NPM](https://docs.npmjs.com/getting-started/installing-npm-packages-locally);
 + **private/page** — папка для реализации страниц;
 + **private/components/blocks** — папка для реализации блоков;
 + **private/components/ui** — папка для реализации переиспользуемых UI компонентов;
 + **private/components/typography** — папка для реализации типографических особенностей проекта;
 
## Рекомендации к использованию
Чтобы работа была легче и быстрее, рекомендую придерживаться следующих правил:
 4. Каждой технологии (SCSS, JavaScript, шаблонам, картинкам, тестам, документации) соответствует отдельный файл;  
 4. Реализация каждой страницы/блока/модуля хранится в отдельной папке; 
 4. Желательно избегать прямых зависимостей между блоками; 
 4. Для установки библиотек/плагинов и т.п. используйте [NPM](https://docs.npmjs.com/getting-started/installing-npm-packages-locally); 
 4. Если нет возможности установить библиотеку через **NPM**, тогда можно использовать папку *`private/_helper/libs/`*;
 4. Все файлы шрифтов желательно хранить в *`private/_helper/fonts/папка_с_названием_шрифта/Файлы`*. 

## Как подключать файлы блоков/страниц?
 5. Для импорта SCSS используйте директиву [@import](http://sass-lang.com/guide#topic-5). 
 5. Для импорта JS файлов используйте [ES6 import](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/import).
 5. Для импорта Twig используйте [Twig import](https://twig.symfony.com/doc/2.x/tags/include.html).
 5. При создании новой страницы, старайтесь наследовать шаблон **`main.twig`** [Twig extends](https://twig.symfony.com/doc/2.x/tags/extends.html).
 5. При создании новой страницы, в папке **private/page**, необходимо создать файл *`название_страницы.twig.js`*. В файле **`webpack.common.js`** нужно добавить эту страницу с помощью **`HtmlWebpackPlugin`**. Пример: дефолтная страница **`index`**.

## <a name="img_work">Работа с изображениями**`> gulp img`**</a>
#### Временные изображения
  Такие изображения нужны только на этапах вёрстки, а складывать их нужно в *`название_блока_или_страницы/img/tmp/изображение`*.
  Временные изображения не проходят через оптимизацию, а просто копируются в папку с исходниками.
#### Обязательные изображения
  Они лежат в *`название_блока_или_страницы/img/`*. Если такие изображения имеют формат **[png,jpg,jpeg]**, они оптимизируются через [TinyPNG](https://tinypng.com/). А так как ***DEV_API_KEY платный***, нужно [генерировать новый ключ](https://tinypng.com/developers) каждые 500 файлов. После чего ключ нужно заменить в файле `gulpfile.babel.js`.
```javascript
key: {
   tiny: 'n-8QEukUa_oZhj4D83yr8twchr3pxaNd' // Ключ для оптимизации изображений
}
``` 

## <a name="svg_work">Работа с SVG спрайтом</a>
#### Как добавить иконку в спрайт
6. Положите SVG файл в папку *`private/_heplers/sprite/svg/`*;
6. Выполните команду **`> gulp sprite`**.
 
 #### Как вставить SVG спрайт на страницу
Имя иконки внутри спрайта соответствует названию её исходного SVG файла.
Например вывести иконку **`facebook.svg`** можно через имя **`#facebook`**.
 ```html
 <svg><use xlink:href="build/img/symbol_sprite.svg#facebook"></use></svg>
 ``` 
Примечание: чтобы увидеть результат, необходим запущенный сервер. Локально это можно сделать запустив  комманду **`> npm run start`**

## <a name="typography">Работа с типографией</a>
Допустим вы делаете крупный/долгий продукт с несколькими разработчиками. 
Даже с одним техническим заданием, полученный результат может не собраться в единый стиль. 

Каждый человек — это разные уровни понимания ТЗ, взгляд на жизнь, версия фотошопа, жидкость в бутылке у монитора… 
Использование общих стилей типографии, позволяет выделить базовые начертания, цвета, размеры и т.д. 

Стили типографии завязаны на теги, а применить их можно при помощи одного из классов`(.typography | .ckeditor | .cke_editable)`.
Однако есть парочка тегов, стили которых применяются в независимости от родительского класса`(h1-h6 | a)`.
  
Если один из стилей вам не подходит, вы можете изменить их. Для этого достаточно переопределить **SCSS** переменные.

Результаты типографии можно посмотреть в *`public/typography.html`*